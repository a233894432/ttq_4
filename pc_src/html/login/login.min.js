define(["text!html/login/login.html"],function(e){var o=function(){function o(e){if(void 0,e.success){var o=$app.md5(t+"_check");void 0;var e={phone:t,check:o};$app.getAjax($app.apiurl.service.validatcode,e,l)}else void 0,$app.layer.alert("输入的图形码有错请重新输入")}function l(e){void 0,"0000"==e.code?$app.layer.alert("发送验证码成功.请注意查收"):$app.layer.alert(e.msg)}function c(e){void 0,void 0,"0000"==e.code?(ck.set("token",e.token),ck.set("userinfo",e.user),window.location.href="index.html?m=index"):$app.layer.alert(e.msg)}function a(e){0==r?(e.removeAttribute("disabled"),e.innerHTML="获取验证码",r=60):(e.setAttribute("disabled",!0),e.innerHTML=r+"秒",r--,setTimeout(function(){a(e)},1e3))}var n=_.template(e);appView.html(n()),ck.get("token")&&(window.location.href="index.html?m=index");var t,p,i;$("#checkPcvode").on("click",function(e){if(e.preventDefault(),t=$("#phone").val(),p=$("#pcvcode").val(),$app.isCellphone(t)){a(this),void 0;var l={pcvcode:p};$app.getAjax($app.apiurl.service.checkCode,l,o)}else $app.layer.alert("请输入正确的手机号")}),$("#regbtn").on("click",function(e){e.preventDefault(),t=$("#phone").val(),p=$("#pcvcode").val(),i=$("#vcode").val();var o="0000";if(!$app.isCellphone(t)||_.isEmpty(i)||_.isEmpty(p))$app.layer.alert("请输入正确的手机号或是验证码");else{void 0;var l={phone:t,vcode:i,pid:o,source:"c4f3d10768bb66621f4a7899cea87df6",pcvcode:p,check:$app.md5(t+o+i)};void 0,$app.getAjax($app.apiurl.service.simlogin,l,c)}});var r=60};return o});